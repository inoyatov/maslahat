{% extends "base.html" %}
{% load staticfiles %}
{% load cache %}

{% block content %}
<div class="container" style="display:flex;justify-content:center;align-items:center;">
  <div>
    <img src="//d13yacurqjgara.cloudfront.net/users/607375/screenshots/2740815/maslahatuz_1x.jpg"/>
  <h3>Сайт фаол тарзда янгиланиб бориляпти. Тез кунларда янги кўринишда ишга тушади.</h3>
  <p>Сайтда яна қандай функциялар бўлишини истар эдингиз? <strong>Бу ҳақда дастурчига <a href="https://telegram.me/crispybone" target="_blank">хабар беринг</a>.</strong></p>
  <br/>
  <br/>
  <div class="panel panel-default">
    <div class="panel-heading">
      
      <h3 class="panel-title"><img src="https://graph.facebook.com/{{ last_post.author_id }}/picture?type=square&width=32&height=32"/>&nbsp;{{ last_post.author }}</h3>
    </div>
    <div class="panel-body">
      <div id="author"></div>
    </div>
  </div>
  </div>
</div>
{% endblock %}
{% block javascript %}

<script src="//cdn.jsdelivr.net/theaterjs/latest/theater.min.js"></script>
<script>
  var theater = theaterJS()

  theater
    .on('type:start, erase:start', function () {
      // add a class to actor's dom element when he starts typing/erasing
      var actor = theater.getCurrentActor()
      actor.$element.classList.add('is-typing')
    })
    .on('type:end, erase:end', function () {
      // and then remove it when he's done
      var actor = theater.getCurrentActor()
      actor.$element.classList.remove('is-typing')
    })

  theater
    .addActor('author')

  theater
    .addScene('author:{{ last_post.text|linebreaksbr }}', 200)
    .addScene(theater.replay)
</script>
{% endblock %}
